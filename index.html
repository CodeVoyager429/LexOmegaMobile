<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LexOmega | Unified Legal Intelligence</title>
  <meta name="description" content="LexOmega ‚Äî The Future of Legal Intelligence. Ask Lex, draft documents, track cases, and search law across jurisdictions." />
  <link rel="icon" href="/favicon.ico" />
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* screenshot-accurate tweaks layered over styles.css */
    .topbar { background:#12a3a0; color:#061014; border-bottom:3px solid #ffd54a; }
    .topbar .inner { max-width:1200px; margin:0 auto; padding:10px 16px; font-weight:700; display:flex; gap:8px; align-items:center; }
    .topbar .megaphone { filter: drop-shadow(0 2px 0 rgba(0,0,0,.15)); }

    .brandbar { background:rgba(0,0,0,.55); border-bottom:1px solid var(--line); }
    .brand { max-width:1200px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:12px 16px; }
    .brand-left { display:flex; align-items:center; gap:10px; }
    .brand-logo { width:34px; height:34px; border-radius:50%; background:#ffd54a; color:#111; display:grid; place-items:center; font-weight:900; }
    .hamburger { width:44px; height:44px; border-radius:12px; border:1px solid var(--line); background:rgba(255,255,255,.04); display:grid; place-items:center; cursor:pointer; }
    .hamburger span { width:18px; height:2px; background:#e9f0f6; display:block; position:relative; }
    .hamburger span::before,.hamburger span::after { content:""; position:absolute; left:0; width:18px; height:2px; background:#e9f0f6; }
    .hamburger span::before { top:-6px; } .hamburger span::after { top:6px; }

    /* drawer */
    #drawer { position:fixed; inset:0 0 0 40%; max-width:420px; left:auto; background:#0b0f14f5; backdrop-filter:blur(10px); border-left:1px solid var(--line); transform:translateX(100%); transition:.18s ease; z-index:300; }
    #drawer.open { transform:translateX(0); }
    #drawer .menu { padding:18px 16px; }
    #drawer a { display:block; padding:14px 8px; border-bottom:1px solid #132031; color:#e9f0f6; font-weight:600; }
    #drawer .tools-row { display:flex; align-items:center; justify-content:space-between; padding:14px 8px; }
    #drawer .select { min-width:160px; }
    #drawer .close { position:absolute; top:12px; right:12px; }

    .section { max-width:1200px; margin:20px auto; padding:0 16px; }
    .hero-title { font-size:34px; margin:18px 0 6px; color:#2fd2ff; }
    .subtitle { color:#9db2c4; margin:0 0 12px; }

    .stat { border-top:1px dashed var(--line); margin-top:12px; padding-top:10px; color:var(--muted); font-size:12px; }

    /* cards themed like screenshots */
    .card.headered { border:1px solid #222f44; box-shadow: 0 6px 20px rgba(0,0,0,.25); }
    .card .title { font-size:22px; font-weight:800; margin:0 0 10px; }

    /* case search */
    .case-search { display:flex; gap:8px; }
    .case-search input { flex:1; background:#0e1622; color:#e9f0f6; border:1px solid var(--line); padding:12px 12px; border-radius:10px; }
    .case-search button { padding:12px 16px; border-radius:10px; border:1px solid var(--line); background:#ffd54a; color:#161a20; font-weight:800; cursor:pointer; }

    /* bottom sheet feel for chat header stripe */
    #chat-panel { border:1px solid #3a464f; box-shadow: 0 16px 40px rgba(0,0,0,.45); }
    #chat-head { border-bottom:2px solid #ffd54a; }

    .toast { position:fixed; left:50%; transform:translateX(-50%); bottom:84px; background:#122032; color:#e9f0f6; padding:10px 14px; border:1px solid #233449; border-radius:999px; font-size:12px; box-shadow:0 8px 20px rgba(0,0,0,.35); display:none; z-index:280; }
    .toast.show { display:block; }
  </style>

  <!-- i18n (inline resources used by chatbot.js as before) -->
  <script src="https://unpkg.com/i18next@23.7.11/dist/umd/i18next.min.js"></script>
</head>
<body>

  <!-- Top promo bar (teal) -->
  <div class="topbar">
    <div class="inner">
      <span class="megaphone">üì£</span>
      <span data-i18n="promo.text">LexOmega Launch Offer: 30-day free trial. No credit card required.</span>
    </div>
  </div>

  <!-- Brand bar -->
  <div class="brandbar">
    <div class="brand">
      <div class="brand-left">
        <div class="brand-logo" aria-label="LexOmega">L</div>
        <strong>LexOmega</strong>
      </div>
      <button class="hamburger" id="btn-drawer" aria-label="Menu"><span></span></button>
    </div>
  </div>

  <!-- Drawer menu -->
  <aside id="drawer" aria-label="Main Menu">
    <button class="btn secondary close" id="drawer-close">‚úï</button>
    <div class="menu">
      <a href="/" data-i18n="ui.home">Home</a>
      <a href="/new-dashboard.html" data-i18n="ui.dashboard">Dashboard</a>
      <a href="/legal-tools.html" data-i18n="ui.tools">Tools</a>
      <a href="/documents.html" data-i18n="ui.documents">Documents</a>
      <a href="/notary.html" data-i18n="ui.notary">Notary</a>
      <div class="tools-row">
        <span data-i18n="ui.language">Language</span>
        <select id="lang-select" class="select" aria-label="Language">
          <option value="en" selected>English</option>
          <option value="es">Espa√±ol</option>
          <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
          <option value="zh-CN">‰∏≠ÊñáÔºàÁÆÄ‰ΩìÔºâ</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          <option value="fr">Fran√ßais</option>
          <option value="pt">Portugu√™s</option>
          <option value="de">Deutsch</option>
          <option value="ja">Êó•Êú¨Ë™û</option>
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="ur">ÿßŸèÿ±ÿØŸèŸà</option>
          <option value="id">Bahasa Indonesia</option>
          <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
          <option value="sw">Kiswahili</option>
        </select>
      </div>
    </div>
  </aside>

  <!-- Welcome hero -->
  <section class="section">
    <h1 class="hero-title" data-i18n="hero.title">Welcome to LexOmega</h1>
    <p class="subtitle" data-i18n="hero.subtitle">The Future of Legal Intelligence</p>

    <div class="card headered" style="margin-top:12px;">
      <div class="title" data-i18n="dash.title">Live Dashboard Preview</div>
      <p class="muted" data-i18n="dash.copy">Analytics, case tracking, document generation and real-time alerts.</p>

      <div class="cta" style="margin-top:12px;">
        <a class="btn" href="/login.html" data-i18n="dash.login">Login</a>
        <a class="btn secondary" href="/signup.html" data-i18n="dash.create">Create Account</a>
        <a class="btn secondary" href="/logout" data-i18n="dash.logout">Logout</a>
      </div>

      <div class="stat">
        <strong data-i18n="dash.statusPrefix">Status:</strong>
        <span id="status" data-i18n="dash.statusGuest">Signed in as Guest</span>
      </div>
      <div class="muted" style="margin-top:10px;" id="stat-fallback" data-i18n="dash.unable">Unable to load stats.</div>
    </div>
  </section>

  <!-- Embedded legal document preview -->
  <section class="section">
    <div class="card headered">
      <div class="title" data-i18n="doc.title">Embedded Legal Document Preview</div>
      <p><strong>LexOmega ‚Äî <span data-i18n="doc.sample">Document Sample</span></strong></p>
      <div class="card" style="background:#0c121b; border:1px dashed var(--line); text-align:center; color:#8aa0b2;">
        <div style="padding:30px 10px;" data-i18n="doc.placeholder">Document preview placeholder</div>
      </div>
      <div class="muted" style="margin-top:10px;" id="doc-fallback" data-i18n="doc.unable">Unable to fetch documents.</div>
    </div>
  </section>

  <!-- Case search -->
  <section class="section">
    <div class="card headered">
      <div class="title" data-i18n="case.title">Case Search</div>
      <p class="muted" data-i18n="case.hint">Try: ‚ÄúFourth Amendment traffic stop‚Äù</p>
      <div class="case-search" style="margin-top:8px;">
        <input id="case-q" placeholder="Search cases..." />
        <button id="case-go" aria-label="Search">Search</button>
      </div>
    </div>
  </section>

  <!-- Footer verse (as per your preference) -->
  <footer>
    ‚ÄúJesus said to him, 'I am the way, the truth, and the life. No one comes to the Father except through Me.' ‚Äî John 14:6
  </footer>

  <!-- Floating Chat Button -->
  <button id="chat-fab" title="Chat">?</button>

  <!-- Ask Lex Panel (same engine as before) -->
  <aside id="chat-panel" aria-live="polite" aria-label="Ask Lex">
    <div id="chat-head">
      <strong data-i18n="chat.title">Ask Lex</strong>
      <button id="close-chat" class="btn secondary" style="padding:6px 10px;">Close</button>
    </div>
    <div id="chat-body">
      <div class="msg bot">
        <div class="muted" data-i18n="chat.welcome">Hi! Ask anything like ‚ÄúGo to Tools‚Äù, ‚ÄúSearch: Miranda rights‚Äù, or ‚ÄúDraft an affidavit‚Äù.</div>
        <p><a href="#" class="muted" id="voice-demo" data-i18n="chat.voice">I can voice search as well</a></p>
      </div>
    </div>
    <div id="chat-foot">
      <input id="ask-input" type="text" placeholder="Type your question..." aria-label="Your question" />
      <button id="send-btn" data-i18n="chat.send">Send</button>
    </div>
    <div class="muted" style="padding:0 10px 10px 10px;" id="limit-note"></div>
  </aside>

  <!-- Toast like ‚ÄúContinuing as guest‚Äù -->
  <div class="toast" id="toast">Continuing as guest</div>

  <!-- Logic: drawer, toast, minimal demo for search, i18n init, chat (delegated to chatbot.js) -->
  <script>
    // Drawer controls
    const drawer = document.getElementById('drawer');
    const btnDrawer = document.getElementById('btn-drawer');
    const drawerClose = document.getElementById('drawer-close');
    btnDrawer.addEventListener('click', () => drawer.classList.add('open'));
    drawerClose.addEventListener('click', () => drawer.classList.remove('open'));
    drawer.addEventListener('click', (e)=>{ if(e.target.id==='drawer') drawer.classList.remove('open'); });

    // Simple guest toast (mimics your screenshot)
    const toast = document.getElementById('toast');
    function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 2400); }
    showToast('Continuing as guest');

    // Fake ‚Äúfailed to fetch‚Äù preview if API not wired yet (for parity with screenshot)
    const demoFail = () => {
      const bot = document.createElement('div');
      bot.className = 'msg bot';
      bot.innerHTML = '<span class="muted">Error: Failed to fetch</span>';
      document.getElementById('chat-body').appendChild(bot);
    };

    // Minimal i18n resources to seed page keys (more in chatbot.js if you wish)
    const RES = {
      en:{ ui:{home:"Home",dashboard:"Dashboard",tools:"Tools",documents:"Documents",notary:"Notary",language:"Language"},
           promo:{text:"LexOmega Launch Offer: 30-day free trial. No credit card required."},
           hero:{title:"Welcome to LexOmega",subtitle:"The Future of Legal Intelligence"},
           dash:{title:"Live Dashboard Preview",copy:"Analytics, case tracking, document generation and real-time alerts.",login:"Login",create:"Create Account",logout:"Logout",statusPrefix:"Status:",statusGuest:"Signed in as Guest",unable:"Unable to load stats."},
           doc:{title:"Embedded Legal Document Preview",sample:"Document Sample",placeholder:"Document preview placeholder",unable:"Unable to fetch documents."},
           case:{title:"Case Search",hint:"Try: ‚ÄúFourth Amendment traffic stop‚Äù"},
           chat:{title:"Ask Lex",welcome:"Hi! Ask anything like ‚ÄúGo to Tools‚Äù, ‚ÄúSearch: Miranda rights‚Äù, or ‚ÄúDraft an affidavit‚Äù.",send:"Send",voice:"I can voice search as well",limit:"LexOmega has reached today‚Äôs API capacity. Please retry later."}
      },
      es:{ ui:{home:"Inicio",dashboard:"Panel",tools:"Herramientas",documents:"Documentos",notary:"Notar√≠a",language:"Idioma"},
           promo:{text:"Oferta de lanzamiento: prueba gratis de 30 d√≠as. No se requiere tarjeta."},
           hero:{title:"Bienvenido a LexOmega",subtitle:"El Futuro de la Inteligencia Legal"},
           dash:{title:"Vista previa del panel en vivo",copy:"Anal√≠tica, seguimiento de casos, generaci√≥n de documentos y alertas en tiempo real.",login:"Acceder",create:"Crear cuenta",logout:"Salir",statusPrefix:"Estado:",statusGuest:"Conectado como invitado",unable:"No se pueden cargar estad√≠sticas."},
           doc:{title:"Vista previa de documento legal incrustado",sample:"Documento de ejemplo",placeholder:"Marcador de vista previa de documento",unable:"No se pueden obtener documentos."},
           case:{title:"B√∫squeda de casos",hint:"Prueba: ‚ÄúDetenci√≥n de tr√°fico Cuarta Enmienda‚Äù"},
           chat:{title:"Preguntar a Lex",welcome:"¬°Hola! Pregunta algo como ‚ÄúIr a Herramientas‚Äù, ‚ÄúBuscar: derechos Miranda‚Äù o ‚ÄúRedactar una declaraci√≥n jurada‚Äù.",send:"Enviar",voice:"Tambi√©n puedo buscar por voz",limit:"Se alcanz√≥ la capacidad de la API. Int√©ntalo luego."}
      },
      ar:{ ui:{home:"ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",dashboard:"ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",tools:"ÿßŸÑÿ£ÿØŸàÿßÿ™",documents:"ÿßŸÑŸÖÿ≥ÿ™ŸÜÿØÿßÿ™",notary:"ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ",language:"ÿßŸÑŸÑÿ∫ÿ©"},
           promo:{text:"ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ∑ŸÑÿßŸÇ: ÿ™ÿ¨ÿ±ÿ®ÿ© ŸÖÿ¨ÿßŸÜŸäÿ© ŸÑŸÖÿØÿ© 30 ŸäŸàŸÖÿßŸã. ŸÑÿß ÿ≠ÿßÿ¨ÿ© ŸÑÿ®ÿ∑ÿßŸÇÿ©."},
           hero:{title:"ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ŸÑŸäŸÉÿ≥ ÿ£ŸàŸÖŸäÿ∫ÿß",subtitle:"ŸÖÿ≥ÿ™ŸÇÿ®ŸÑ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑŸÇÿßŸÜŸàŸÜŸä"},
           dash:{title:"ŸÖÿπÿßŸäŸÜÿ© ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ≠Ÿäÿ©",copy:"ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ÿå ÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÇÿ∂ÿßŸäÿßÿå ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ÿå Ÿàÿ™ŸÜÿ®ŸäŸáÿßÿ™ ŸÅŸàÿ±Ÿäÿ©.",login:"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",create:"ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®",logout:"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨",statusPrefix:"ÿßŸÑÿ≠ÿßŸÑÿ©:",statusGuest:"ŸÖÿ™ÿµŸÑ ŸÉÿ∂ŸäŸÅ",unable:"Ÿäÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ•ÿ≠ÿµÿßÿ°ÿßÿ™."},
           doc:{title:"ŸÖÿπÿßŸäŸÜÿ© ŸÖÿ≥ÿ™ŸÜÿØ ŸÇÿßŸÜŸàŸÜŸä ŸÖÿ∂ŸÖŸÜ",sample:"ŸÜŸÖŸàÿ∞ÿ¨ ŸÖÿ≥ÿ™ŸÜÿØ",placeholder:"ÿπŸÜÿµÿ± ŸÜÿßÿ¶ÿ® ŸÑŸÖÿπÿßŸäŸÜÿ© ÿßŸÑŸÖÿ≥ÿ™ŸÜÿØ",unable:"ÿ™ÿπÿ∞ÿ± ÿ¨ŸÑÿ® ÿßŸÑŸÖÿ≥ÿ™ŸÜÿØÿßÿ™."},
           case:{title:"ÿ®ÿ≠ÿ´ ÿßŸÑŸÇÿ∂ÿßŸäÿß",hint:"ÿ¨ÿ±Ÿëÿ®: ¬´ÿ™ŸàŸÇŸäŸÅ ŸÖÿ±Ÿàÿ±Ÿä ŸàÿßŸÑÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ±ÿßÿ®ÿπ¬ª"},
           chat:{title:"ÿßÿ≥ÿ£ŸÑ ŸÑŸäŸÉÿ≥",welcome:"ÿßÿ≥ÿ£ŸÑ ÿ£Ÿä ÿ¥Ÿäÿ° ŸÖÿ´ŸÑ ¬´ÿßÿ∞Ÿáÿ® ÿ•ŸÑŸâ ÿßŸÑÿ£ÿØŸàÿßÿ™¬ªÿå ¬´ÿßÿ®ÿ≠ÿ´: ÿ≠ŸÇŸàŸÇ ŸÖŸäÿ±ÿßŸÜÿØÿß¬ªÿå ÿ£Ÿà ¬´ÿµŸêÿ∫ ÿ•ŸÅÿßÿØÿ©¬ª",send:"ÿ•ÿ±ÿ≥ÿßŸÑ",voice:"ŸäŸÖŸÉŸÜŸÜŸä ÿßŸÑÿ®ÿ≠ÿ´ ÿµŸàÿ™ŸäÿßŸã ÿ£Ÿäÿ∂ÿßŸã",limit:"ÿ™ŸÖ ÿ®ŸÑŸàÿ∫ ÿ≥ÿπÿ© Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ŸÑŸÑŸäŸàŸÖ. ÿ≠ÿßŸàŸÑ ŸÑÿßÿ≠ŸÇÿßŸã."}
      }
    };
    const RTL = new Set(["ar","ur"]);
    const LANG_KEY = "lexomega.lang";
    i18next.init({ resources: RES, lng: localStorage.getItem(LANG_KEY)||"en", fallbackLng:"en", interpolation:{escapeValue:false}}, ()=>{
      // simple binder
      document.querySelectorAll("[data-i18n]").forEach(el=>{ el.innerHTML = i18next.t(el.getAttribute("data-i18n")); });
      const lng = i18next.language; document.documentElement.setAttribute("lang", lng); document.documentElement.setAttribute("dir", RTL.has(lng)?"rtl":"ltr");
      const sel = document.getElementById("lang-select"); if (sel) sel.value = lng;
    });

    document.getElementById("lang-select")?.addEventListener("change", async (e)=>{
      const lng = e.target.value; localStorage.setItem(LANG_KEY, lng); await i18next.changeLanguage(lng);
      document.querySelectorAll("[data-i18n]").forEach(el=>{ el.innerHTML = i18next.t(el.getAttribute("data-i18n")); });
      document.documentElement.setAttribute("dir", RTL.has(lng)?"rtl":"ltr"); document.documentElement.setAttribute("lang", lng);
    });

    // Case search demo (wire to your backend when ready)
    document.getElementById("case-go").addEventListener("click", ()=> demoFail());

  </script>

  <!-- Centralized chat + locale logic -->
  <script src="chatbot.js"></script>
</body>
</html>
